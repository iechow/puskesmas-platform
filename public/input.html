<script>
async function kirim() {
  const status = document.getElementById("status");
  status.innerText = "Mengirim...";

  const form = new FormData();
  form.append("judul", document.getElementById("judul").value);
  form.append("lokasi", document.getElementById("lokasi").value);
  form.append("tanggal", document.getElementById("tanggal").value);
  form.append("deskripsi", document.getElementById("deskripsi").value);
  form.append("foto", document.getElementById("foto").files[0]);

  const res = await fetch("/api/input", {
    method: "POST",
    body: form
  });

  const r = await res.json();

  if (r.status === "ok") {
    status.innerText = "Berhasil dikirim. Menunggu verifikasi admin.";
  } else {
    status.innerText = "Gagal: " + (r.error || "unknown error");
  }
}
</script>
